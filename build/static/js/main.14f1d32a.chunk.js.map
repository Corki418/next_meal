{"version":3,"sources":["actions/index.js","constants/config.js","constants/index.js","data/data.js","components/header.js","components/tag_list.js","components/footer.js","components/page.js","components/store_control_button.js","components/card.js","containers/index.js","components/feature_list.js","components/tabs_nav.js","components/tabs_panel.js","components/tabs.js","components/store_comments.js","components/comment_form.js","components/store_review.js","components/store_info.js","components/not_found.js","containers/store.js","components/favlist.js","containers/fav.js","components/store_item.js","containers/tag.js","reducers/index.js","reducers/reducer_stores.js","reducers/reducer_filtered_stores.js","reducers/reducer_slideshows.js","reducers/reducer_store.js","reducers/reducer_store_comments.js","reducers/favlist.js","reducers/user.js","index.js"],"names":["firebase","require","apps","length","initializeApp","apiKey","authDomain","projectId","fetchStoreListByTag","tag","type","payload","firestore","collection","where","get","fetchRecommendStoreList","limit","fetchHotStoreList","addFavList","userID","store","doc","update","list","FieldValue","arrayUnion","fetchStoreInfo","id","fetchStoreComments","restoreUserInfo","userInfo","hotTags","news","categories","className","title","show","hotCategories","hotTopics","link","common","icon","features","menu","modalType","needLogin","MODAL_TYPE","LOGIN","Header","props","state","account","keyword","password","onSeachHandler","bind","onSearchInputChange","renderLoginModal","renderMenuItems","renderMenuList","renderSearchBox","this","dispatch","cookies","JSON","parse","setState","e","key","target","value","Router","push","isLogin","user","_","map","item","href","onClick","placeholder","aria-label","onChange","onKeyPress","Modal","isOpen","onClose","FormControl","FormLabel","htmlFor","Input","onAccountInputChange","onPasswordInputChange","Button","variant","loginCallback","then","res","forEach","docs","data","catch","error","console","login","LOGON","Component","withCookies","connect","TagList","tags","Footer","topics","rel","Page","reverse","children","StoreControlButtons","booking","phone","iconData","online","location","address","Card","isChangeFavStatus","isFavorite","handleAddFavList","prevProps","prevState","setTimeout","isFavoriteState","iconStyle","flashStyle","offsetVertical","media","srcSet","image","url","src","alt","name","Index","renderCards","stores","filteredStores","hotStoresData","nearbyStoresData","recommendStoresData","defaultProps","FeatureList","cashOnly","customService","family","mrt","noTimeLimit","pokemon","parking","pet","socket","takeout","twentyfourhr","wifi","featureData","TabsNav","nav","activeIndex","onClickTabNavHandler","activeClass","onKeyDown","TabsPanel","panel","hash","content","Tabs","tabs","StoreComments","commentList","comments","required","undefined","renderTextField","input","autocomplete","meta","touched","warning","renderSelectField","label","CommentDataForm","storeid","closeForm","isFormValid","resetFormStatus","handleSubmit","pristine","reset","submitting","handleSubmitFail","showForm","showErrMsg","showSuccessMsg","onSubmit","onSubmitFail","Field","component","validate","disabled","reduxForm","form","StoreReview","isOpenReviewForm","renderStoreComments","enableCommentForm","handleFormSubmit","closeStoreCommentForm","change","values","formData","docid","rating","meal","date","saveCommentData","add","insertCommentData","status","commentInfo","StoreInfo","index","onClickHandler","renderStoreInfo","openingHour","start","end","price","lowest","highest","sns","website","style","background","width","height","description","Notfound","ref","card","Store","router","query","storeComments","isNotFound","isEmpty","isLoading","isObject","slice","withRouter","FavList","renderCardList","renderNoDataHint","args","favList","isEmptyFavList","size","Fav","StoreItem","Tag","orderBy","isArray","renderStores","rootReducer","combineReducers","action","storesData","keys","slideshows","slidesData","FormReducer","storeInfo","favData","userInfoString","stringify","document","cookie","createStoreWithMiddleware","applyMiddleware","promise","createStore","ReactDOM","render","ThemeProvider","CSSReset","CookiesProvider","reducers","path","getElementById"],"mappings":"2sBA6BMA,G,OAAWC,EAAQ,MACzBA,EAAQ,KAEHD,EAASE,KAAKC,QACjBH,EAASI,cAAc,CACrBC,OClCmB,0CDmCnBC,WClCuB,6BDmCvBC,UClCsB,eDsCnB,IAOMC,EAAsB,SAACC,GAClC,MAAO,CACLC,KE/CmC,0BFgDnCC,QAASX,EAASY,YAAYC,WAAW,UAAUC,MAA1C,eAAwDL,GAAO,MAAM,GAAMM,QAW3EC,EAA0B,WACrC,MAAO,CACLN,KE1DsC,6BF2DtCC,QAASX,EAASY,YAAYC,WAAW,UAAUC,MAAM,YAAa,MAAM,GAAMG,MAAM,GAAGF,QAIlFG,EAAoB,WAC/B,MAAO,CACLR,KEhEgC,uBFiEhCC,QAASX,EAASY,YAAYC,WAAW,UAAUC,MAAM,MAAO,MAAM,GAAMG,MAAM,GAAGF,QAoB5EI,EAAa,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MACnC,MAAO,CACLX,KE1EwB,eF2ExBC,QAASX,EAASY,YAAYC,WAAW,WAAWS,IAAIF,GAAQG,OAAO,CACrEC,KAAMxB,EAASY,UAAUa,WAAWC,WAAWL,OAKxCM,EAAiB,SAACC,GAC7B,MAAO,CACLlB,KE7F4B,mBF8F5BC,QAASX,EAASY,YAAYC,WAAW,UAAUC,MAAM,KAAM,KAAMc,GAAIX,MAAM,GAAGF,QAsiBzEc,EAAqB,SAACD,GACjC,MAAO,CACLlB,KE9nBgC,uBF+nBhCC,QAASX,EAASY,YAAYC,WAAW,YAAYC,MAAM,KAAM,KAAMc,GAAIX,MAAM,GAC9EF,QAoEMe,EAAkB,SAACC,GAC9B,MAAO,CACLrB,KE/rB6B,oBFgsB7BC,QAASoB,IGxtBAC,EAAU,CACnB,2BACA,qBACA,eACA,eACA,eACA,eACA,eACA,qBACA,qBACA,gBAGWC,EAAO,CAClB,yYACA,+IACA,6IACA,kJAGWC,EAAa,CACxB,CACEN,GAAI,uCACJO,UAAW,YACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,SACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,QACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,UACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,UACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,YACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,YACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,YACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,QACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,UACXC,MAAO,2BACP3B,IAAK,uCACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,MACXC,MAAO,eACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,SACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,QACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,MACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,OACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,YACXC,MAAO,4BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,eACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,YACXC,MAAO,eACP3B,IAAK,gBAEP,CACEmB,GAAI,uCACJO,UAAW,UACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,WACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,aACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,gBACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,uBACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,OACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,UACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,UACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,kBACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,UACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,OACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,WACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,OACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,SACXC,MAAO,MACP3B,IAAK,MACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,aACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,eACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,QACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,uCACJO,UAAW,eACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,IAIGC,EAAgB,CAC3B,CACEV,GAAI,IACJO,UAAW,QACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,WACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,QACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,SACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,aACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,QACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,gBACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,UACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,IACJO,UAAW,YACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,eACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,SACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,YACXC,MAAO,qBACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,UACXC,MAAO,SACP3B,IAAK,SACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,OACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,gBACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,YACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,UACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,SACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,SACXC,MAAO,MACP3B,IAAK,MACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,YACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,MACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,OACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,aACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,YACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,WACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,WACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,OACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,iBACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,WACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,QACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,mBACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,eACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,KACJO,UAAW,OACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,GAER,CACET,GAAI,MACJO,UAAW,QACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,MACJO,UAAW,SACXC,MAAO,2BACP3B,IAAK,2BACL4B,MAAM,GAER,CACET,GAAI,MACJO,UAAW,QACXC,MAAO,qBACP3B,IAAK,qBACL4B,MAAM,GAER,CACET,GAAI,MACJO,UAAW,WACXC,MAAO,eACP3B,IAAK,eACL4B,MAAM,IAIGE,EAAY,CACvB,CACEX,GAAI,uCACJQ,MAAO,yDACPI,KAAM,kCACNH,MAAM,GAER,CACET,GAAI,uCACJQ,MAAO,+DACPI,KAAM,8CACNH,MAAM,GAER,CACET,GAAI,uCACJQ,MAAO,2EACPI,KAAM,4BACNH,MAAM,GAER,CACET,GAAI,uCACJQ,MAAO,mDACPI,KAAM,wCACNH,MAAM,GAER,CACET,GAAI,uCACJQ,MAAO,uFACPI,KAAM,kCACNH,MAAM,GAER,CACET,GAAI,uCACJQ,MAAO,qEACPI,KAAM,4BACN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","file":"static/js/main.14f1d32a.chunk.js","sourcesContent":["import _ from 'lodash';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  ADD_FAV_LIST,\n  DOTCH_FOOD_COOKIE_KEY,\n  FETCH_FAV_LIST,\n  FETCH_HOT_STORE_LIST,\n  FETCH_NEARBY_STORE_LIST,\n  FETCH_RECOMMEND_STORE_LIST,\n  FETCH_SLIDES_DATA,\n  FETCH_STORE_COMMENTS,\n  FETCH_STORE_INFO,\n  FETCH_STORE_LIST_BY_TAG,\n  FETCH_STORE_LIST,\n  INSERT_FAV_LIST,\n  INSERT_STORE_COMMENT,\n  LOGIN,\n  LOGOUT,\n  RESTORE_USER_INFO,\n  SAVE_STORE_COMMENT,\n  SAVE_STORE_DATA,\n} from '../constants';\nimport { DEFAULT_IMAGE } from '../constants/common';\nimport {\n  API_KEY,\n  AUTH_DOMAIN,\n  PROJECT_ID,\n} from '../constants/config';\n\nconst firebase = require('firebase');\nrequire('firebase/firestore');\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    apiKey: API_KEY,\n    authDomain: AUTH_DOMAIN,\n    projectId: PROJECT_ID,\n  });\n}\n\nexport const fetchStoreList = () => {\n  return {\n    type: FETCH_STORE_LIST,\n    payload: firebase.firestore().collection('stores').orderBy('id').get(),\n  };\n}\n\nexport const fetchStoreListByTag = (tag) => {\n  return {\n    type: FETCH_STORE_LIST_BY_TAG,\n    payload: firebase.firestore().collection('stores').where(`tags.${tag}`, '==', true).get(),\n  };\n}\n\nexport const fetchNearbyStoreList = () => {\n  return {\n    type: FETCH_NEARBY_STORE_LIST,\n    payload: firebase.firestore().collection('stores').where('nearby', '==', true).limit(4).get(),\n  };\n}\n\nexport const fetchRecommendStoreList = () => {\n  return {\n    type: FETCH_RECOMMEND_STORE_LIST,\n    payload: firebase.firestore().collection('stores').where('recommend', '==', true).limit(4).get(),\n  };\n}\n\nexport const fetchHotStoreList = () => {\n  return {\n    type: FETCH_HOT_STORE_LIST,\n    payload: firebase.firestore().collection('stores').where('hot', '==', true).limit(4).get(),\n  };\n}\n\nexport const fetchFavList = (userID) => {\n  return {\n    type: FETCH_FAV_LIST,\n    payload: firebase.firestore().collection('favlist').where('id', '==', userID).limit(20).get(),\n  };\n}\n\nexport const insertFavList = ({ userID, store }) => {\n  return {\n    type: INSERT_FAV_LIST,\n    payload: firebase.firestore().collection('favlist').doc(userID).set({\n      list: [store],\n    }),\n  };\n}\n\nexport const addFavList = ({ userID, store }) => {\n  return {\n    type: ADD_FAV_LIST,\n    payload: firebase.firestore().collection('favlist').doc(userID).update({\n      list: firebase.firestore.FieldValue.arrayUnion(store),\n    }),\n  };\n}\n\nexport const fetchStoreInfo = (id) => {\n  return {\n    type: FETCH_STORE_INFO,\n    payload: firebase.firestore().collection('stores').where('id', '==', id).limit(1).get(),\n  };\n}\n\nexport const fetchSlidesData = () => {\n  return {\n    type: FETCH_SLIDES_DATA,\n    payload: firebase.firestore().collection('slideshows').orderBy('id').get(),\n  };\n}\n\nexport const saveStoreData = (formData) => {\n  const imageName = formData.image || DEFAULT_IMAGE;\n  const bookingPhone = formData.isBookingPhone ? formData.phone : null;\n  const tagArray = formData.tags ? formData.tags.split(' ') : [];\n  let tagList = {};\n  let featureList = {};\n\n  if (tagArray.length) {\n    _.each(tagArray, (item) => {\n      const obj = {};\n      obj[item] = true;\n      tagList = Object.assign(tagList, obj);\n    });\n  } else {\n    tagList = {\n      測試: true,\n    };\n  }\n\n  if (formData.twentyfourhr) {\n    const feature = {};\n    feature.twentyfourhr = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['24 小時營業'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.mrt) {\n    const feature = {};\n    feature.mrt = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['捷運沿線'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.noTimeLimit) {\n    const feature = {};\n    feature.noTimeLimit = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['不限時'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.parking) {\n    const feature = {};\n    feature.parking = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['停車位'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.socket) {\n    const feature = {};\n    feature.socket = true;\n    featureList = Object.assign(featureList, feature);\n\n    // const obj = {};\n    // obj['提供插座'] = true;\n    // tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.takeout) {\n    const feature = {};\n    feature.takeout = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['外帶'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.wifi) {\n    const feature = {};\n    feature.wifi = true;\n    featureList = Object.assign(featureList, feature);\n\n    // const obj = {};\n    // obj['wifi'] = true;\n    // tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.cashOnly) {\n    const feature = {};\n    feature.cashOnly = true;\n    featureList = Object.assign(featureList, feature);\n\n    // const obj = {};\n    // obj['只接受現金'] = true;\n    // tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.customService) {\n    const feature = {};\n    feature.customService = true;\n    featureList = Object.assign(featureList, feature);\n\n    // const obj = {};\n    // obj['客製化服務'] = true;\n    // tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.family) {\n    const feature = {};\n    feature.family = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['親子友善'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.pet) {\n    const feature = {};\n    feature.pet = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['寵物友善'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.pokemon) {\n    const feature = {};\n    feature.pokemon = true;\n    featureList = Object.assign(featureList, feature);\n\n    const obj = {};\n    obj['寶可夢'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.sushi) {\n    const obj = {};\n    obj['壽司'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.brunch) {\n    const obj = {};\n    obj['早午餐'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.barbecue) {\n    const obj = {};\n    obj['燒烤'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.burger) {\n    const obj = {};\n    obj['漢堡'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.salad) {\n    const obj = {};\n    obj['輕食'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.steak) {\n    const obj = {};\n    obj['牛排'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.cake) {\n    const obj = {};\n    obj['甜點'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.dimsum) {\n    const obj = {};\n    obj['港式料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.lowprice) {\n    const obj = {};\n    obj['平價'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.beer) {\n    const obj = {};\n    obj['居酒屋'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.coffee) {\n    const obj = {};\n    obj['咖啡'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.thaifood) {\n    const obj = {};\n    obj['泰國菜'] = true;\n    tagList = Object.assign(tagList, obj);\n\n    const obj1 = {};\n    obj1['泰式料理'] = true;\n    tagList = Object.assign(tagList, obj1);\n  }\n\n  if (formData.tea) {\n    const obj = {};\n    obj['茶'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.crab) {\n    const obj = {};\n    obj['海鮮'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.friedchicken) {\n    const obj = {};\n    obj['炸雞'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.americanfood) {\n    const obj = {};\n    obj['美式料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.rice) {\n    const obj = {};\n    obj['家常菜'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.lettuce) {\n    const obj = {};\n    obj['素食'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.skewer) {\n    const obj = {};\n    obj['串燒'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.baking) {\n    const obj = {};\n    obj['DIY'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.spaguetti) {\n    const obj = {};\n    obj['義大利麵'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.pot) {\n    const obj = {};\n    obj['火鍋'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.doll) {\n    const obj = {};\n    obj['主題特色'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.foodtruck) {\n    const obj = {};\n    obj['小販餐車'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.superheroe) {\n    const obj = {};\n    obj['漫畫雜誌'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.socialmedia) {\n    const obj = {};\n    obj['拍照打卡'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.sofa) {\n    const obj = {};\n    obj['沙發'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.movie) {\n    const obj = {};\n    obj['桌邊服務'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n  if (formData.review) {\n    const obj = {};\n    obj['特別推薦'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.baker) {\n    const obj = {};\n    obj['無菜單'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.delivery) {\n    const obj = {};\n    obj['外送'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.ricebowl) {\n    const obj = {};\n    obj['中式料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.japanesefood) {\n    const obj = {};\n    obj['日式料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.sashimi) {\n    const obj = {};\n    obj['韓式料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.italianfood) {\n    const obj = {};\n    obj['義式料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.croissant) {\n    const obj = {};\n    obj['法式料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.curry) {\n    const obj = {};\n    obj['印度料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.merlion) {\n    const obj = {};\n    obj['星馬南洋料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.wok) {\n    const obj = {};\n    obj['異國料理'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.buffet) {\n    const obj = {};\n    obj['吃到飽'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.tray) {\n    const obj = {};\n    obj['鐵板燒'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.cafe) {\n    const obj = {};\n    obj['複合餐飲'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.selfservice) {\n    const obj = {};\n    obj['自助餐'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.lunchbox) {\n    const obj = {};\n    obj['便當'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.popcorn) {\n    const obj = {};\n    obj['速食'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.dessert) {\n    const obj = {};\n    obj['下午茶'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.beerbar) {\n    const obj = {};\n    obj['酒吧'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.noodles) {\n    const obj = {};\n    obj['小吃'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.instant) {\n    const obj = {};\n    obj['調理包'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.network) {\n    const obj = {};\n    obj['網咖'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.drink) {\n    const obj = {};\n    obj['咖啡茶飲'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.toast) {\n    const obj = {};\n    obj['烘焙糕點'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  if (formData.other) {\n    const obj = {};\n    obj['其他'] = true;\n    tagList = Object.assign(tagList, obj);\n  }\n\n  const data = {\n    id: uuidv4(),\n    name: formData.name || '測試',\n    description: formData.description || null,\n    image: [\n      // original\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/${imageName}.png`,\n      },\n      // 177 jpg\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_177,fl_progressive/${imageName}.jpg`,\n      },\n      // 354 jpg\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_354,fl_progressive/${imageName}.jpg`,\n      },\n      // 531 jpg\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_531,fl_progressive/${imageName}.jpg`,\n      },\n      // 708 jpg\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_708,fl_progressive/${imageName}.jpg`,\n      },\n      // 177 webp\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_177,fl_progressive/${imageName}.webp`,\n      },\n      // 354 webp\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_354,fl_progressive/${imageName}.webp`,\n      },\n      // 531 webp\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_531,fl_progressive/${imageName}.webp`,\n      },\n      // 708 webp\n      {\n        url: `https://res.cloudinary.com/dfgridmvn/image/upload/c_scale,w_708,fl_progressive/${imageName}.webp`,\n      },\n    ],\n    phone: formData.phone || null,\n    location: {\n      address: formData.address || null,\n      zip: formData.zip || null,\n      coordinates: null,\n    },\n    openingHour: {\n      start: formData.start || '0 AM',\n      end: formData.end || '0 PM',\n    },\n    price: {\n      lowest: formData.lowest || 0,\n      highest: formData.highest || 999999,\n    },\n    booking: {\n      online: formData.bookingOnline || null,\n      phone: bookingPhone,\n    },\n    sns: {\n      facebook: formData.facebook || null,\n      website: formData.website || null,\n    },\n    hot: false,\n    nearby: false,\n    recommend: false,\n    tags: tagList,\n    features: featureList,\n  };\n\n  return {\n    type: SAVE_STORE_DATA,\n    // payload: firebase.firestore().collection('stores').add(data),\n    payload: firebase.firestore().collection('test').add(data),\n    // payload: firebase.firestore().collection('test').add('123'),\n  };\n}\n\nexport const fetchStoreComments = (id) => {\n  return {\n    type: FETCH_STORE_COMMENTS,\n    payload: firebase.firestore().collection('comments').where('id', '==', id).limit(5)\n      .get(),\n  };\n}\n\nexport const saveCommentData = (formData) => {\n  const {\n    docid, user, rating, meal, date, content,\n  } = formData;\n  const data = {\n    user, rating, meal, date, content,\n  };\n\n  return {\n    type: SAVE_STORE_COMMENT,\n    payload: firebase.firestore().collection('comments').doc(docid).update({\n      comments: firebase.firestore.FieldValue.arrayUnion(data),\n    }),\n  };\n}\n\nexport const insertCommentData = (formData) => {\n  const {\n    id, user, rating, meal, date, content,\n  } = formData;\n\n  return {\n    type: INSERT_STORE_COMMENT,\n    payload: firebase.firestore().collection('comments').add({\n      id,\n      comments: [\n        {\n          user, rating, meal, date, content,\n        },\n      ],\n    }),\n  };\n}\n\nexport const login = (account, password, loginCallback) => {\n  return {\n    type: LOGIN,\n    payload: firebase.firestore().collection('users').where('id', '==', account).get()\n    .then(function(res) {\n      let userInfo = [];\n\n      _.forEach(res.docs, (doc) => {\n        userInfo.push(doc.data());\n      });\n\n      if (userInfo[0].password === password) {\n        loginCallback();\n        return { isLogin: true, userInfo: userInfo[0]};\n      } else {\n        return { isLogin: false, userInfo: null };\n      }\n    })\n    .catch(function(error) {\n      console.error('Error occurred: ', error);\n    })\n  };\n}\n\nexport const logout = () => {\n  return {\n    type: LOGOUT,\n  }\n}\n\nexport const restoreUserInfo = (userInfo) => {\n  return {\n    type: RESTORE_USER_INFO,\n    payload: userInfo,\n  }\n}\n","export const API_KEY = 'AIzaSyC_xPAyKYsvuIuT6mceI_8gow7H3cSo3BI';\nexport const AUTH_DOMAIN = 'dotch-food.firebaseapp.com';\nexport const PROJECT_ID = 'dotch-food';\n","// actions\nexport const FETCH_STORE_LIST = 'FETCH_STORE_LIST';\nexport const FETCH_STORE_LIST_BY_TAG = 'FETCH_STORE_LIST_BY_TAG';\n\nexport const FETCH_NEARBY_STORE_LIST = 'FETCH_NEARBY_STORE_LIST'; // 離我最近\nexport const FETCH_RECOMMEND_STORE_LIST = 'FETCH_RECOMMEND_STORE_LIST'; // 猜你想吃\nexport const FETCH_HOT_STORE_LIST = 'FETCH_HOT_STORE_LIST'; // 熱門推薦\nexport const FETCH_FAV_LIST = 'FETCH_FAV_LIST'; // 我的最愛\n\nexport const FETCH_STORE_INFO = 'FETCH_STORE_INFO';\n\nexport const FETCH_SLIDES_DATA = 'FETCH_SLIDES_DATA';\nexport const FETCH_SLIDES_DATA_SUCCESS = 'FETCH_SLIDES_DATA_SUCCESS';\n\nexport const SAVE_STORE_DATA = 'SAVE_STORE_DATA';\nexport const SAVE_STORE_COMMENT = 'SAVE_STORE_COMMENT';\nexport const INSERT_STORE_COMMENT = 'INSERT_STORE_COMMENT';\nexport const FETCH_STORE_COMMENTS = 'FETCH_STORE_COMMENTS';\n\nexport const ADD_FAV_LIST = 'ADD_FAV_LIST';\nexport const INSERT_FAV_LIST = 'INSERT_FAV_LIST';\n\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const RESTORE_USER_INFO = 'RESTORE_USER_INFO';\n\n// storage keys\nexport const DOTCH_FOOD_COOKIE_KEY = 'dotchfooduser';\n","export const hotTags = [\n    '日式料理',\n    '早午餐',\n    '沙拉',\n    '燒烤',\n    '漢堡',\n    '輕食',\n    '牛排',\n    '生魚片',\n    '關東煮',\n    '平價',\n  ];\n\n  export const news = [\n    '今天吃飯，該吃什麼好呢？只要輸入美食欲望，立刻給你最真實、現場、生活化的評價，找餐廳再也不煩惱，就讓吃什麼，どっち幫你決定吃什麼！',\n    '來自名古屋的早餐，Komeda coffee 鬆軟奶油吐司，南京松江站',\n    '與小熊維尼的午茶約會！新宿「蜂蜜咖啡」限定登場',\n    '七夕就是要浪漫一下！全台精選 10 家特色浪漫景觀餐廳',\n  ];\n\n  export const categories = [\n    {\n      id: 'bd3060eb-a952-4a5e-a4ec-b2cb91544786',\n      className: 'rice-bowl',\n      title: '中式',\n      tag: '中式料理',\n      show: true,\n    },\n    {\n      id: '183bde18-13b3-420e-bdfe-f33d36c26d22',\n      className: 'burger',\n      title: '美式',\n      tag: '美式料理',\n      show: true,\n    },\n    {\n      id: '4df916eb-6b84-4cd9-a3ba-aa80b89cb9f8',\n      className: 'sushi',\n      title: '日式',\n      tag: '日式料理',\n      show: true,\n    },\n    {\n      id: '4830b325-3623-4a4e-88d5-91f879baa5e8',\n      className: 'dim-sum',\n      title: '港式',\n      tag: '港式料理',\n      show: true,\n    },\n    {\n      id: '10283f0d-5e51-4503-8898-bef0d0e67dce',\n      className: 'sashimi',\n      title: '韓式',\n      tag: '韓式料理',\n      show: true,\n    },\n    {\n      id: '007f4c15-4782-4560-b7c9-f5c91f4ae4bf',\n      className: 'thai-food',\n      title: '泰式',\n      tag: '泰式料理',\n      show: true,\n    },\n    {\n      id: '15eedeed-0786-405d-bb8a-8e06596f6afe',\n      className: 'spaguetti',\n      title: '義式',\n      tag: '義式料理',\n      show: true,\n    },\n    {\n      id: '2421f4e0-c479-4c0b-84f9-998b44a7aadd',\n      className: 'croissant',\n      title: '法式',\n      tag: '法式料理',\n      show: true,\n    },\n    {\n      id: 'a25b7aa8-87b6-4ad3-8cc7-8529190ab006',\n      className: 'curry',\n      title: '印度',\n      tag: '印度料理',\n      show: true,\n    },\n    {\n      id: 'bc41ee12-8b72-4bf4-9961-3919c302301b',\n      className: 'merlion',\n      title: '星馬南洋',\n      tag: '星馬南洋料理',\n      show: true,\n    },\n    {\n      id: '086f0866-1ed4-4d5d-836f-4b42ebaec24d',\n      className: 'wok',\n      title: '異國',\n      tag: '異國料理',\n      show: true,\n    },\n    {\n      id: '76363331-4912-453c-ab98-4aba16dde936',\n      className: 'buffet',\n      title: '吃到飽',\n      tag: '吃到飽',\n      show: true,\n    },\n    {\n      id: '5cdce9c4-c9b5-425f-b62d-bdc903b56abd',\n      className: 'grill',\n      title: '燒烤',\n      tag: '燒烤',\n      show: true,\n    },\n    {\n      id: '290a27f2-e3b6-4638-9857-7efbd06dece2',\n      className: 'pot',\n      title: '火鍋',\n      tag: '火鍋',\n      show: true,\n    },\n    {\n      id: 'e64fe1f3-f627-4041-89e4-1e9ade3ada43',\n      className: 'tray',\n      title: '鐵板燒',\n      tag: '鐵板燒',\n      show: true,\n    },\n    {\n      id: '1e6d0d1b-e152-434a-a954-8cf205ab1c19',\n      className: 'breakfast',\n      title: '複合/簡餐',\n      tag: '複合餐飲',\n      show: true,\n    },\n    {\n      id: '6892b0ab-b7be-41d1-b84d-e1998089c70b',\n      className: 'self-service',\n      title: '自助餐',\n      tag: '自助餐',\n      show: true,\n    },\n    {\n      id: 'e3561ce3-928a-45c4-8759-6f007230ab58',\n      className: 'lunch-box',\n      title: '便當',\n      tag: '便當',\n    },\n    {\n      id: '31725bce-b40c-11e8-96f8-529269fb1459',\n      className: 'popcorn',\n      title: '速食',\n      tag: '速食',\n      show: true,\n    },\n    {\n      id: '9011f22f-449c-459f-bd1b-6f2924adb39c',\n      className: 'sandwich',\n      title: '早午餐',\n      tag: '早午餐',\n      show: true,\n    },\n    {\n      id: '72815cd4-768a-4e6f-a520-a8fb002d04c2',\n      className: 'salad-bowl',\n      title: '輕食',\n      tag: '輕食',\n      show: true,\n    },\n    {\n      id: '9d2df9cc-c5e5-4eaa-8123-b7c0ee14073d',\n      className: 'piece-of-cake',\n      title: '甜點',\n      tag: '甜點',\n      show: true,\n    },\n    {\n      id: '84c0e0de-3e65-4ab9-bb9a-2f7433ea4a3c',\n      className: 'cake-with-strawberry',\n      title: '下午茶',\n      tag: '下午茶',\n      show: true,\n    },\n    {\n      id: 'e34686f1-88b3-4219-b5fa-62d49a3a368e',\n      className: 'beer',\n      title: '酒吧',\n      tag: '酒吧',\n      show: true,\n    },\n    {\n      id: '01f558aa-ca2d-4ca2-add7-7ca945dba6e9',\n      className: 'noodles',\n      title: '小吃',\n      tag: '小吃',\n      show: true,\n    },\n    {\n      id: 'f3865f75-f4ed-431d-b130-b890b3be444f',\n      className: 'lettuce',\n      title: '素食',\n      tag: '素食',\n      show: true,\n    },\n    {\n      id: 'ac890d9c-b409-11e8-96f8-529269fb1459',\n      className: 'instant-noodles',\n      title: '調理包',\n      tag: '調理包',\n      show: true,\n    },\n    {\n      id: 'c5a95896-c009-4af3-83df-aee304b84ea8',\n      className: 'network',\n      title: '網咖',\n      tag: '網咖',\n      show: true,\n    },\n    {\n      id: 'bea91673-c6b4-4ac3-87b4-b1b9258d9a3e',\n      className: 'doll',\n      title: '主題特色',\n      tag: '主題特色',\n      show: true,\n    },\n    {\n      id: 'a3af7f04-5183-4e47-9905-8705469506d7',\n      className: 'baby-boy',\n      title: '親子友善',\n      tag: '親子友善',\n      show: true,\n    },\n    {\n      id: 'e45de147-ab0a-4c26-a077-b23f03c3e51f',\n      className: 'pets',\n      title: '寵物友善',\n      tag: '寵物友善',\n      show: true,\n    },\n    {\n      id: 'ac891954-b409-11e8-96f8-529269fb1459',\n      className: 'baking',\n      title: 'DIY',\n      tag: 'DIY',\n      show: true,\n    },\n    {\n      id: 'a96feaff-4711-469e-a20f-5fef8f0d9d96',\n      className: 'food-truck',\n      title: '小販餐車',\n      tag: '小販餐車',\n      show: true,\n    },\n    {\n      id: '4479113d-2297-45b8-9657-a35089d59504',\n      className: 'orange-juice',\n      title: '咖啡茶飲',\n      tag: '咖啡茶飲',\n      show: true,\n    },\n    {\n      id: '11ee2741-7a51-4907-93a4-e38a85bcbad6',\n      className: 'toast',\n      title: '烘焙糕點',\n      tag: '烘焙糕點',\n      show: true,\n    },\n    {\n      id: '97c2e5f3-4397-4d47-b80f-88e62521c7f6',\n      className: 'dinner-table',\n      title: '其他',\n      tag: '其他',\n      show: true,\n    },\n  ];\n\n  export const hotCategories = [\n    {\n      id: '1',\n      className: 'sushi',\n      title: '壽司',\n      tag: '壽司',\n      show: true,\n    },\n    {\n      id: '2',\n      className: 'sandwich',\n      title: '早午餐',\n      tag: '早午餐',\n      show: true,\n    },\n    {\n      id: '3',\n      className: 'grill',\n      title: '燒烤',\n      tag: '燒烤',\n      show: true,\n    },\n    {\n      id: '4',\n      className: 'burger',\n      title: '漢堡',\n      tag: '漢堡',\n      show: true,\n    },\n    {\n      id: '5',\n      className: 'salad-bowl',\n      title: '輕食',\n      tag: '輕食',\n      show: true,\n    },\n    {\n      id: '6',\n      className: 'steak',\n      title: '牛排',\n      tag: '牛排',\n      show: true,\n    },\n    {\n      id: '7',\n      className: 'piece-of-cake',\n      title: '甜點',\n      tag: '甜點',\n      show: true,\n    },\n    {\n      id: '8',\n      className: 'dim-sum',\n      title: '港式小點',\n      tag: '港式料理',\n      show: true,\n    },\n    {\n      id: '9',\n      className: 'low-price',\n      title: '平價',\n      tag: '平價',\n      show: true,\n    },\n    {\n      id: '10',\n      className: 'beer-bottles',\n      title: '居酒屋',\n      tag: '居酒屋',\n      show: true,\n    },\n    {\n      id: '11',\n      className: 'coffee',\n      title: '咖啡',\n      tag: '咖啡',\n      show: true,\n    },\n    {\n      id: '12',\n      className: 'thai-food',\n      title: '泰國菜',\n      tag: '泰式料理',\n      show: true,\n    },\n    {\n      id: '13',\n      className: 'tea-cup',\n      title: '茶',\n      tag: '茶',\n      show: true,\n    },\n    {\n      id: '14',\n      className: 'crab',\n      title: '海鮮',\n      tag: '海鮮',\n      show: true,\n    },\n    {\n      id: '15',\n      className: 'fried-chicken',\n      title: '炸雞',\n      tag: '炸雞',\n      show: true,\n    },\n    {\n      id: '16',\n      className: 'rice-bowl',\n      title: '家常菜',\n      tag: '家常菜',\n      show: true,\n    },\n    {\n      id: '17',\n      className: 'lettuce',\n      title: '素食',\n      tag: '素食',\n      show: true,\n    },\n    {\n      id: '18',\n      className: 'skewer',\n      title: '串燒',\n      tag: '串燒',\n      show: true,\n    },\n    {\n      id: '19',\n      className: 'baking',\n      title: 'DIY',\n      tag: 'DIY',\n      show: true,\n    },\n    {\n      id: '20',\n      className: 'spaguetti',\n      title: '義大利麵',\n      tag: '義大利麵',\n      show: true,\n    },\n    {\n      id: '21',\n      className: 'pot',\n      title: '火鍋',\n      tag: '火鍋',\n      show: true,\n    },\n    {\n      id: '22',\n      className: 'doll',\n      title: '主題特色',\n      tag: '主題特色',\n      show: true,\n    },\n    {\n      id: '23',\n      className: 'food-truck',\n      title: '小販餐車',\n      tag: '小販餐車',\n      show: true,\n    },\n    {\n      id: '24',\n      className: 'champagne',\n      title: '慶賀',\n      tag: '慶賀',\n      show: false,\n    },\n    {\n      id: '25',\n      className: 'takeaway',\n      title: '外帶',\n      tag: '外帶',\n      show: true,\n    },\n    {\n      id: '26',\n      className: 'baby-boy',\n      title: '親子友善',\n      tag: '親子友善',\n      show: true,\n    },\n    {\n      id: '27',\n      className: 'pets',\n      title: '寵物友善',\n      tag: '寵物友善',\n      show: true,\n    },\n    {\n      id: '38',\n      className: 'parking-yellow',\n      title: '停車位',\n      tag: '停車位',\n      show: true,\n    },\n    {\n      id: '29',\n      className: 'pokecoin',\n      title: '寶可夢',\n      tag: '寶可夢',\n      show: true,\n    },\n    {\n      id: '30',\n      className: 'train',\n      title: '捷運沿線',\n      tag: '捷運沿線',\n      show: true,\n    },\n    {\n      id: '31',\n      className: 'superheroe-black',\n      title: '漫畫雜誌',\n      tag: '漫畫雜誌',\n      show: true,\n    },\n    {\n      id: '32',\n      className: 'social-media',\n      title: '拍照打卡',\n      tag: '拍照打卡',\n      show: true,\n    },\n    {\n      id: '33',\n      className: 'sofa',\n      title: '沙發',\n      tag: '沙發',\n      show: true,\n    },\n    {\n      id: '996',\n      className: 'movie',\n      title: '桌邊服務',\n      tag: '桌邊服務',\n      show: true,\n    },\n    {\n      id: '997',\n      className: 'review',\n      title: '特別推薦',\n      tag: '特別推薦',\n      show: true,\n    },\n    {\n      id: '998',\n      className: 'baker',\n      title: '無菜單',\n      tag: '無菜單',\n      show: true,\n    },\n    {\n      id: '999',\n      className: 'delivery',\n      title: '外送',\n      tag: '外送',\n      show: true,\n    },\n  ];\n\n  export const hotTopics = [\n    {\n      id: '209b9815-911e-42c0-a501-6757d8c63c62',\n      title: '一個人要吃什麼好？',\n      link: '/tag?keyword=一個人',\n      show: true,\n    },\n    {\n      id: '96997512-6b97-4a5e-95cd-c7d588354a0a',\n      title: '台北最適合約會的餐廳',\n      link: '/tag?keyword=情人節大餐',\n      show: true,\n    },\n    {\n      id: '696cedc7-c4ea-4671-9c53-28897f3acb62',\n      title: '怎麼吃才會瘦？秘訣在這裡',\n      link: '/tag?keyword=瘦身',\n      show: true,\n    },\n    {\n      id: 'f7062e18-79f6-45b8-bb2b-9b883e347b15',\n      title: '遛小孩的好去處！',\n      link: '/tag?keyword=親子友善',\n      show: true,\n    },\n    {\n      id: '69a62d6f-d62e-41be-8bf5-089895c41dba',\n      title: '不限時！和朋友歡聚暢聊不設限',\n      link: '/tag?keyword=不限時',\n      show: true,\n    },\n    {\n      id: 'f70efa1f-df85-4f2b-83ee-24aeb3948396',\n      title: '最適合工作的咖啡廳清單',\n      link: '/tag?keyword=工作',\n      show: true,\n    },\n    {\n      id: 'e73418b4-b0f7-43bb-8381-355f2269900e',\n      title: '寶可夢補給站！休息，充電和 Wifi',\n      link: '/tag?keyword=寶可夢',\n      show: true,\n    },\n    {\n      id: 'bbd01354-88a2-4930-849e-66bf75c2d978',\n      title: '超值會員卡大集合，辦了絕對不後悔',\n      link: '/tag?keyword=會員卡',\n      show: true,\n    },\n    {\n      id: '0b664a52-fb2c-42e2-8e73-13e592ef6091',\n      title: '無限漫畫看到飽',\n      link: '/tag?keyword=漫畫雜誌',\n      show: true,\n    },\n    {\n      id: 'd91b94a8-7ff7-4377-b49b-1d9db14b51b4',\n      title: '一起看足球賽，超大電視螢幕、啤酒',\n      link: '/tag?keyword=運動酒吧',\n      show: true,\n    },\n    {\n      id: '056bfcdb-4b5c-4845-89b2-abfb0159cb2b',\n      title: '你也可以當網紅！來這裡拍照打卡',\n      link: '/tag?keyword=拍照打卡',\n      show: true,\n    },\n  ];\n\n  export const common = {\n    title: '吃什麼，どっち',\n  };\n\n  export const icon = {\n    onlineBooking: '線上訂位',\n    phoneBooking: '電話訂位',\n    navigation: '導航',\n    address: '地址',\n    phone: '電話',\n    openingHour: '營業時間',\n    price: '價格',\n    website: '網站',\n    hot: '熱門',\n    addFav: '加入我的最愛',\n    removeFav: '移除我的最愛'\n  };\n\n  export const features = {\n    twentyfourhr: '24 小時營業',\n    mrt: '捷運沿線',\n    noTimeLimit: '不限時',\n    parking: '附近有停車位',\n    socket: '提供插座',\n    takeout: '可外帶',\n    wifi: '免費 Wifi',\n    cashOnly: '只接受現金',\n    customService: '客製化服務',\n    family: '親子友善',\n    pet: '寵物友善',\n    pokemon: '有寶可夢補給站',\n  };\n\n  export const menu = [\n    {\n      id: 'fav',\n      title: '我的最愛',\n      icon: 'heart',\n      link: '/fav',\n      modalType: null,\n      needLogin: true,\n    },\n    {\n      id: 'register',\n      title: '註冊',\n      icon: 'star',\n      link: '#',\n      modalType: null,\n      needLogin: false,\n    },\n    {\n      id: 'login',\n      title: '登入',\n      icon: 'star',\n      link: '#',\n      modalType: 'login',\n      needLogin: false,\n    },\n    {\n      id: 'logout',\n      title: '登出',\n      icon: 'star',\n      link: '/',\n      modalType: '/',\n      needLogin: true,\n    },\n  ];","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport { Link, Router } from 'react-router-dom';\nimport {\n  Button,\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  Input,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n} from \"@chakra-ui/core\";\nimport {\n  login,\n  logout,\n  restoreUserInfo,\n} from '../actions/index';\nimport { DOTCH_FOOD_COOKIE_KEY } from '../constants';\nimport {\n  common,\n  menu,\n} from '../data/data';\nimport '../styles/components/header.scss';\n\nconst MODAL_TYPE = {\n  LOGIN: 'login',\n}\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      account: null,\n      keyword: '',\n      modalType: null,\n      password: null,\n    };\n\n    this.onSeachHandler = this.onSeachHandler.bind(this);\n    this.onSearchInputChange = this.onSearchInputChange.bind(this);\n    this.renderLoginModal = this.renderLoginModal.bind(this);\n    this.renderMenuItems = this.renderMenuItems.bind(this);\n    this.renderMenuList = this.renderMenuList.bind(this);\n    this.renderSearchBox = this.renderSearchBox.bind(this);\n  }\n\n  componentDidMount() {\n    const { dispatch, cookies: { cookies } } = this.props;\n\n    // restore user info from cookie when reload page\n    if (cookies && cookies[DOTCH_FOOD_COOKIE_KEY]) {\n      dispatch(restoreUserInfo(JSON.parse(cookies[DOTCH_FOOD_COOKIE_KEY])));\n    } else {\n      dispatch(logout());\n    }\n  }\n\n  onSearchInputChange(keyword) {\n    this.setState({ keyword });\n  }\n\n  onAccountInputChange(account) {\n    this.setState({ account });\n  }\n\n  onPasswordInputChange(password) {\n    this.setState({ password });\n  }\n\n  onSeachHandler(e) {\n    if (e.key === 'Enter') {\n      const keyword = e.target.value;\n      Router.push(`/tag?keyword=${keyword}`);\n    }\n  }\n\n  renderMenuList() {\n    return (\n      <div className=\"header__menu-list\">\n        {this.renderMenuItems()}\n      </div>\n    )\n  }\n\n  renderMenuItems() {\n    const { isLogin } = this.props.user;\n\n    return _.map(menu, (item) => {\n      return (\n        (isLogin === item.needLogin) &&\n        <div\n          key={item.title}\n          className=\"header__menu__item\"\n        >\n          <Link href={item.link}>\n            <a\n              title={item.title}\n              className=\"header__menu__item__link\"\n              onClick={() => {\n                if (item.modalType === MODAL_TYPE.LOGIN) {\n                  this.setState({ modalType: MODAL_TYPE.LOGIN });\n                } else if (item.id === 'logout') {\n                  this.props.dispatch(logout());\n                }\n              }}\n            >\n              <span\n                title={item.title}\n                className={`header__menu__item__icon icon-${item.icon}`}\n              />\n              <span className=\"header__menu__item__title\">\n                {item.title}\n              </span>\n            </a>\n          </Link>\n        </div>\n      );\n    })\n  }\n\n  renderSearchBox() {\n    const { keyword } = this.state;\n\n    return (\n      <div className=\"header__searchbox\">\n        <input\n          className=\"header__search-input\"\n          placeholder=\"有什麼好吃的？\"\n          aria-label=\"有什麼好吃的？\"\n          value={keyword}\n          onChange={e => this.onSearchInputChange(e.target.value)}\n          onKeyPress={e => this.onSeachHandler(e)}\n        />\n        <button\n          type=\"button\"\n          className=\"header__searchbox__cancel\"\n          onClick={() => this.onSearchInputChange('')}\n        >\n          x\n        </button>\n      </div>\n    )\n  }\n\n  renderLoginModal() {\n    const { dispatch } = this.props;\n    const { modalType } = this.state;\n\n    return (\n      <Modal\n        isOpen={modalType === MODAL_TYPE.LOGIN}\n        onClose={() => { this.setState({modalType: null}); }}\n      >\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Log On</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>\n            <FormControl>\n              <FormLabel htmlFor=\"account\">Account</FormLabel>\n              <Input\n                type=\"text\"\n                id=\"account\"\n                placeholder=\"Account\"\n                onChange={e => this.onAccountInputChange(e.target.value)}\n              />\n            </FormControl>\n            <FormControl>\n              <FormLabel htmlFor=\"password\">Password</FormLabel>\n              <Input\n                type=\"password\"\n                id=\"password\"\n                placeholder=\"Password\"\n                onChange={e => this.onPasswordInputChange(e.target.value)}\n              />\n            </FormControl>\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              variant=\"ghost\"\n              onClick={() => {\n                const { account, password } = this.state;\n                const result = dispatch(login(account, password, () => {\n                  this.setState({ modalType: null })\n                }));\n              }}\n            >\n              Log On\n            </Button>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    )\n  }\n\n  render() {\n    const { modalType } = this.state;\n\n    return (\n      <div className=\"header\">\n        <div className=\"header__nav\">\n          <Link href=\"/\">\n            <a title={common.title}>\n              <i\n                className=\"header__logo icon-logo\"\n                aria-label={common.title}\n              />\n            </a>\n          </Link>\n          <Link href=\"/\">\n            <a\n              className=\"header__title\"\n              title={common.title}\n            >\n              { common.title }\n            </a>\n          </Link>\n        </div>\n          {this.renderSearchBox()}\n          {this.renderMenuList()}\n          {this.renderLoginModal()}\n          {modalType === MODAL_TYPE.LOGON && this.renderLoginModal()}\n      </div>\n    );\n  }\n}\n\nexport default withCookies(connect(state => state)(Header));\n","import _ from 'lodash';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport '../styles/components/tag_list.scss';\n\nconst TagList = ({ tags }) => {\n  return (\n    <div className=\"tag-list\">\n      {\n        _.map(tags, (item) => {\n          return (\n            <div\n              key={item.id}\n              className=\"tag-list__item\"\n            >\n              <Link href={`/tag?keyword=${item.tag}`}>\n                <a\n                  title={item.title}\n                  className=\"tag-list__item__link\"\n                >\n                  <span\n                    title={item.title}\n                    className={`tag-list__item__icon icon-${item.className}`}\n                  />\n                  <span className=\"tag-list__item__title\">\n                    {item.title}\n                  </span>\n                </a>\n              </Link>\n            </div>\n          );\n        })\n      }\n    </div>\n  );\n};\n\nTagList.propTypes = {\n  tags: PropTypes.array.isRequired,\n};\n\nexport default TagList;\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport TagList from './tag_list';\nimport '../styles/components/footer.scss';\n\nconst Footer = ({ categories, topics }) => {\n  return (\n    <div className=\"app-container footer\">\n      <div className=\"footer__column footer__column-2x\">\n        <h2 className=\"footer__heading\">\n          分類\n        </h2>\n        <TagList tags={categories} />\n      </div>\n      <div className=\"footer__column\">\n        <h2 className=\"footer__heading\">\n          熱門討論\n        </h2>\n        <div className=\"align-row footer__hot-topic\">\n          <ul className=\"unordered-list-circle\">\n            {\n              _.map(topics, (item) => {\n                return (\n                  <li key={item.id}>\n                    <Link href={item.link}>\n                      <a title={item.title}>\n                        {item.title}\n                      </a>\n                    </Link>\n                  </li>\n                );\n              })\n            }\n          </ul>\n        </div>\n      </div>\n      <div className=\"footer__column\">\n        <h2 className=\"footer__heading\">\n          關於「吃什麼，どっち」\n        </h2>\n        <ul className=\"unordered-list-circle\">\n          <li>\n            <a\n              title=\"什麼是「吃什麼，どっち」？\"\n              href=\"https://cythilya.github.io/2015/02/02/dotchi/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              什麼是「吃什麼，どっち」？\n            </a>\n          </li>\n          <li>\n            <a\n              title=\"聯絡我們\"\n              href=\"mailto:cythilya@gmail.com\"\n            >\n              聯絡我們\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nFooter.propTypes = {\n  categories: PropTypes.array.isRequired,\n  topics: PropTypes.array.isRequired,\n};\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from './header';\nimport Newsticker from 'react-newsticker';\nimport Footer from './footer';\nimport TagList from './tag_list';\nimport  {\n  categories,\n  hotCategories,\n  hotTopics,\n  news,\n} from '../data/data';\nimport '../styles/index.scss';\n\nclass Page extends Component {\n  render() {\n    const { id } = this.props;\n    const reverse = id === 'index' ? 'app-container--reverse' : '';\n\n    return (\n      <div>\n        <Header />\n        <div className=\"newsticker\">\n          <Newsticker news={news} />\n        </div>\n        <div className={`app-container ${reverse}`}>\n          <div className=\"app-main-content\">\n            { this.props.children }\n          </div>\n          <div className=\"app-menu\">\n            <div className=\"panel\">\n              <h1 className=\"panel__main-heading mb-1x\">\n                熱門主題\n              </h1>\n              <TagList tags={hotCategories} />\n            </div>\n          </div>\n        </div>\n        <Footer categories={categories} topics={hotTopics} />\n      </div>\n    );\n  }\n}\n\nPage.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default connect(state => state)(Page);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { icon as iconData } from '../data/data';\nimport '../styles/components/store_control_button.scss';\n\nconst StoreControlButtons = ({ store }) => {\n  return (\n    <div className=\"store-control-buttons\">\n      { store.booking.phone\n        && (\n        <Link href={`tel:${store.booking.phone}`}>\n          <a\n            title={iconData.phoneBooking}\n            className=\"button\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <span\n              className=\"store-control-buttons__icon icon-phone-white\"\n              title={iconData.phoneBooking}\n            />\n            <span className=\"button-with-line-breaks-text\">\n              {iconData.phoneBooking}\n            </span>\n          </a>\n        </Link>\n        )\n      }\n      { store.booking.online\n        && (\n        <Link href={`${store.booking.online}`}>\n          <a\n            title={iconData.onlineBooking}\n            className=\"button\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <span\n              className=\"store-control-buttons__icon icon-online-booking\"\n              title={iconData.onlineBooking}\n            />\n            <span className=\"button-with-line-breaks-text\">\n              {iconData.onlineBooking}\n            </span>\n          </a>\n        </Link>\n        )\n      }\n      <Link href={`https://www.google.com.tw/maps/search/${store.location.address}`}>\n        <a\n          title={iconData.navigation}\n          className=\"button\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <span\n            className=\"store-control-buttons__icon icon-pin-on-map\"\n            title={iconData.navigation}\n          />\n          <span className=\"button-with-line-breaks-text short-word\">\n            {iconData.navigation}\n          </span>\n        </a>\n      </Link>\n    </div>\n  );\n};\n\nStoreControlButtons.propTypes = {\n  store: PropTypes.object.isRequired,\n};\n\nexport default StoreControlButtons;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport LazyLoad from 'react-lazyload';\nimport StoreControlButtons from './store_control_button';\nimport { icon as iconData } from '../data/data';\nimport '../styles/components/card.scss';\n\nclass Card extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isChangeFavStatus: false,\n      isFavorite: false,\n    };\n\n    this.handleAddFavList = this.handleAddFavList.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { isFavorite: preIsFavorite } = prevState;\n    const { isFavorite } = this.state;\n\n    if (preIsFavorite !== isFavorite) {\n      this.setState({ isChangeFavStatus: true }, () => {\n        setTimeout(() => {\n          this.setState({ isChangeFavStatus: false });\n        }, 300);\n      });\n    }\n  }\n\n  handleAddFavList() {\n    const {\n      addFavList,\n      store,\n      userID,\n    } = this.props;\n    const { isFavorite: isFavoriteState } = this.state;\n\n    addFavList({ store, userID });\n    this.setState({isFavorite: !isFavoriteState});\n  }\n\n  render() {\n    const { store } = this.props;\n    const { isFavorite, isChangeFavStatus } = this.state;\n    const title = isFavorite ? iconData.removeFav : iconData.addFav;\n    const iconStyle = isFavorite ? 'icon-heart-full' : 'icon-heart-empty';\n    const flashStyle = isChangeFavStatus ? 'clicked' : '';\n\n    return (\n      <div\n        className=\"card\"\n        key={store.id}\n      >\n        <a\n          title={title}\n          className={`card__fav-button button--transparent ${flashStyle}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={this.handleAddFavList}\n        >\n          <span\n            className={`card__fav-icon ${iconStyle}`}\n            title={title}\n          />\n        </a>\n        <LazyLoad offsetVertical={100}>\n          <figure>\n            <picture>\n              <source\n                media=\"(min-width: 1080px)\"\n                srcSet={`${store.image[6].url} 1x, ${store.image[8].url} 2x`}\n                type=\"image/webp\"\n              />\n              <source\n                media=\"(min-width: 1080px)\"\n                srcSet={`${store.image[2].url}} 1x, ${store.image[4].url} 2x`}\n                type=\"image/jpeg\"\n              />\n              <source\n                media=\"(min-width: 840px)\"\n                srcSet={`${store.image[5].url}} 1x, ${store.image[6].url} 2x`}\n                type=\"image/webp\"\n              />\n              <source\n                media=\"(min-width: 840px)\"\n                srcSet={`${store.image[1].url}} 1x, ${store.image[2].url} 2x`}\n                type=\"image/jpeg\"\n              />\n              <source\n                media=\"(min-width: 768px)\"\n                srcSet={`${store.image[6].url} 1x, ${store.image[8].url} 2x`}\n                type=\"image/webp\"\n              />\n              <source\n                media=\"(min-width: 768px)\"\n                srcSet={`${store.image[2].url} 1x, ${store.image[4].url} 2x`}\n                type=\"image/jpeg\"\n              />\n              <source\n                media=\"(min-width: 568px)\"\n                srcSet={`${store.image[6].url} 1x, ${store.image[8].url} 2x`}\n                type=\"image/webp\"\n              />\n              <source\n                media=\"(min-width: 568px)\"\n                srcSet={`${store.image[2].url} 1x, ${store.image[4].url} 2x`}\n                type=\"image/jpeg\"\n              />\n              <source\n                media=\"(min-width: 375px)\"\n                srcSet={store.image[7].url}\n                type=\"image/webp\"\n              />\n              <source\n                media=\"(min-width: 375px)\"\n                srcSet={store.image[3].url}\n                type=\"image/jpeg\"\n              />\n              <source\n                media=\"(min-width: 320px)\"\n                srcSet={`${store.image[6].url} 1x, ${store.image[8].url} 2x`}\n                type=\"image/webp\"\n              />\n              <source\n                media=\"(min-width: 320px)\"\n                srcSet={`${store.image[2].url} 1x, ${store.image[4].url} 2x`}\n                type=\"image/jpeg\"\n              />\n              <source\n                media=\"(man-width: 319px)\"\n                srcSet={`${store.image[5].url} 1x, ${store.image[6].url} 2x`}\n                type=\"image/webp\"\n              />\n              <source\n                media=\"(man-width: 319px)\"\n                srcSet={`${store.image[1].url} 1x, ${store.image[2].url} 2x`}\n                type=\"image/jpeg\"\n              />\n              <img\n                className=\"card__image\"\n                src={store.image[4].url}\n                alt={store.name}\n              />\n            </picture>\n            <figcaption className=\"hide\">\n              {store.name}\n            </figcaption>\n          </figure>\n        </LazyLoad>\n        <div className=\"card__container\">\n          <h2 className=\"card__title\">\n            <Link href={`/store?id=${store.id}`}>\n              <a title={store.name}>\n                {store.name}\n              </a>\n            </Link>\n          </h2>\n          <div className=\"card__tag-list\">\n            {\n              store.tags.map((item) => {\n                return (\n                  <div key={item} className=\"card__tag-item\">\n                    <Link href={`/tag?keyword=${item}`}>\n                      <a\n                        title={item}\n                        className=\"card__tag-link\"\n                      >\n                        {item}\n                      </a>\n                    </Link>\n                  </div>\n                );\n              })\n            }\n          </div>\n          <StoreControlButtons store={store} />\n        </div>\n      </div>\n    );\n  }\n}\n\nCard.propTypes = {\n  store: PropTypes.object.isRequired,\n};\n\nexport default Card;\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Page from '../components/page';\nimport Card from '../components/card';\n\nimport {\n  fetchNearbyStoreList,\n  fetchRecommendStoreList,\n  fetchHotStoreList,\n} from '../actions/index';\n\nclass Index extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderCards = this.renderCards.bind(this);\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props;\n\n    dispatch(fetchNearbyStoreList());\n    dispatch(fetchRecommendStoreList());\n    dispatch(fetchHotStoreList());\n  }\n\n  renderCards(stores) {\n    return _.map(stores, (store) => <Card key={store.id} store={store} />);\n  };\n\n  render() {\n    const {\n      hotStoresData,\n      nearbyStoresData,\n      recommendStoresData,\n    } = this.props.filteredStores;\n\n    return (\n      <Page title=\"首頁\" id=\"index\">\n        <div className=\"panel\">\n          <h1 className=\"panel__main-heading\">\n            離我最近\n            <span className=\"panel__heading-deco icon-pin-map\" />\n          </h1>\n          <Link href=\"/nearby\">\n            <a\n              className=\"panel__view-more\"\n              title=\"看更多-離我最近\"\n            >\n              看更多\n            </a>\n          </Link>\n          <div className=\"card-list\">\n            { this.renderCards(nearbyStoresData) }\n          </div>\n        </div>\n        <div className=\"panel\">\n          <h1 className=\"panel__main-heading\">\n            猜你想吃\n          </h1>\n          <Link href=\"/nearby\">\n            <a\n              className=\"panel__view-more\"\n              title=\"看更多-猜你想吃\"\n            >\n              看更多\n            </a>\n          </Link>\n          <div className=\"card-list\">\n            { this.renderCards(recommendStoresData) }\n          </div>\n        </div>\n        <div className=\"panel\">\n          <h1 className=\"panel__main-heading\">\n            熱門推薦\n            <span className=\"panel__heading-deco icon-star\" />\n          </h1>\n          <Link href=\"/nearby\">\n            <a\n              className=\"panel__view-more\"\n              title=\"看更多-熱門推薦\"\n            >\n              看更多\n            </a>\n          </Link>\n          <div className=\"card-list\">\n            { this.renderCards(hotStoresData) }\n          </div>\n        </div>\n      </Page>\n    );\n  }\n}\n\nIndex.propTypes = {\n  hotStoresData: PropTypes.array,\n  nearbyStoresData: PropTypes.array,\n  recommendStoresData: PropTypes.array,\n};\n\nIndex.defaultProps = {\n  hotStoresData: [],\n  nearbyStoresData: [],\n  recommendStoresData: [],\n};\n\nexport default connect(state => state)(Index);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { features as featureData } from '../data/data';\nimport '../styles/components/feature_list.scss';\n\nconst FeatureList = ({ features }) => {\n  const {\n    cashOnly,\n    customService,\n    family,\n    mrt,\n    noTimeLimit,\n    pokemon,\n    parking,\n    pet,\n    socket,\n    takeout,\n    twentyfourhr,\n    wifi,\n  } = features;\n\n  return (\n    <div className=\"feature-list\">\n      { twentyfourhr\n        && (\n        <span\n          title={featureData.twentyfourhr}\n          className=\"feature-list__icon icon-24-hours\"\n        />\n        )\n      }\n\n      { mrt\n        && (\n        <span\n          title={featureData.mrt}\n          className=\"feature-list__icon icon-train\"\n        />\n        )\n      }\n\n      { noTimeLimit\n        && (\n        <span\n          title={featureData.noTimeLimit}\n          className=\"feature-list__text\"\n        >\n            {featureData.noTimeLimit}\n        </span>\n        )\n      }\n\n      { parking\n        && (\n        <span\n          title={featureData.parking}\n          className=\"feature-list__icon icon-parking-yellow\"\n        />\n        )\n      }\n\n      { socket\n        && (\n        <span\n          title={featureData.socket}\n          className=\"feature-list__icon icon-plug\"\n        />\n        )\n      }\n\n      { takeout\n        && (\n        <span\n          title={featureData.takeout}\n          className=\"feature-list__icon icon-takeaway\"\n        />\n        )\n      }\n\n      {\n        wifi\n        && (\n        <span\n          title={featureData.wifi}\n          className=\"feature-list__icon icon-wifi\"\n        />\n        )\n      }\n\n      { cashOnly\n        && (\n        <span\n          title={featureData.cashOnly}\n          className=\"feature-list__icon icon-cash\"\n        />\n        )\n      }\n\n      { customService\n        && (\n        <span\n          title={featureData.customService}\n          className=\"feature-list__icon icon-pc-mechanic\"\n        />\n        )\n      }\n\n      { family\n        && (\n        <span\n          title={featureData.family}\n          className=\"feature-list__icon icon-baby-boy\"\n        />\n        )\n      }\n\n      { pet\n        && (\n        <span\n          title={featureData.pet}\n          className=\"feature-list__icon icon-pets\"\n        />\n        )\n      }\n\n      { pokemon\n        && (\n        <span\n          title={featureData.pokemon}\n          className=\"feature-list__icon icon-pokecoin\"\n        />\n        )\n      }\n\n    </div>\n  );\n};\n\nFeatureList.propTypes = {\n  features: PropTypes.object,\n};\n\nFeatureList.defaultProps = {\n  features: {},\n};\n\nexport default FeatureList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TabsNav = ({ nav, activeIndex, onClickTabNavHandler }) => {\n  const activeClass = nav.id === activeIndex ? 'selected' : '';\n\n  return (\n    <div\n      key={nav.title}\n      className={`tabs__nav__item ${activeClass}`}\n      title={nav.title}\n      onClick={() => onClickTabNavHandler(nav.id)}\n      onKeyDown={() => onClickTabNavHandler(nav.id)}\n    >\n      {nav.title}\n    </div>\n  );\n};\n\nTabsNav.propTypes = {\n  nav: PropTypes.object.isRequired,\n  onClickTabNavHandler: PropTypes.func.isRequired,\n  activeIndex: PropTypes.number.isRequired,\n};\n\nexport default TabsNav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TabsPanel = ({ panel, activeIndex }) => {\n  const activeClass = panel.id === activeIndex ? 'selected' : '';\n\n  return (\n    <div\n      key={panel.title}\n      id={panel.hash}\n      className={`tabs__panel__item ${activeClass}`}\n    >\n      {panel.content}\n    </div>\n  );\n};\n\nTabsPanel.propTypes = {\n  panel: PropTypes.object.isRequired,\n  activeIndex: PropTypes.number.isRequired,\n};\n\nexport default TabsPanel;\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TabsNav from './tabs_nav';\nimport TabsPanel from './tabs_panel';\nimport '../styles/components/tabs.scss';\n\nconst Tabs = ({ tabs, activeIndex, onClickTabNavHandler }) => {\n  return (\n    <div className=\"tabs\">\n      <div className=\"tabs__nav\">\n        {\n          _.map(tabs, (item) => {\n            const nav = {\n              id: item.id,\n              title: item.title,\n              hash: item.hash,\n            };\n\n            return (\n              <TabsNav key={item.title} nav={nav} activeIndex={activeIndex} onClickTabNavHandler={onClickTabNavHandler} />\n            );\n          })\n        }\n      </div>\n      <div className=\"tab__panel\">\n        {\n          _.map(tabs, (item) => {\n            const panel = {\n              id: item.id,\n              title: item.title,\n              hash: item.hash,\n              content: item.content,\n            };\n\n            return (\n              <TabsPanel key={item.title} activeIndex={activeIndex} panel={panel} />\n            );\n          })\n        }\n      </div>\n    </div>\n  );\n};\n\nTabs.propTypes = {\n  tabs: PropTypes.array.isRequired,\n  onClickTabNavHandler: PropTypes.func.isRequired,\n  activeIndex: PropTypes.number.isRequired,\n};\n\nexport default Tabs;\n","import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/components/store_comments.scss';\n\nconst StoreComments = ({ comments }) => {\n  const commentList = comments[0].comments || [];\n\n  return (\n    <div className=\"store-comments\">\n      {\n        _.map(commentList, (item) => {\n          const { user, content } = item;\n\n          return (\n            <div\n              key={item.id}\n              className=\"store-comments__item\"\n            >\n              <div className=\"store-comments__item__user-image icon-kitty\" />\n              <div className=\"store-comments__item__detail\">\n                <div className=\"store-comments__item__user-name\">\n                  {user}\n                </div>\n                <div className=\"store-comments__item__content\">\n                  {content}\n                </div>\n              </div>\n            </div>\n          );\n        })\n      }\n    </div>\n  );\n};\n\nStoreComments.propTypes = {\n  comments: PropTypes.array,\n};\n\nStoreComments.defaultProps = {\n  comments: [],\n};\n\nexport default StoreComments;\n","import React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport PropTypes from 'prop-types';\nimport '../styles/components/form.scss';\nimport '../styles/components/alert.scss';\nimport '../styles/components/store_info.scss';\nimport '../styles/components/comment_form.scss';\n\nconst required = value => value ? undefined : '必填'\n\nconst renderTextField = ({ input, placeholder, autocomplete, meta: { touched, error, warning } }) => {\n  return (\n    <div>\n      <input\n        {...input}\n        type=\"text\"\n        className=\"form__input-text\"\n        placeholder={placeholder}\n        autocomplete={autocomplete}\n      />\n      {touched\n        && ((error\n        && (\n        <span className=\"form__error\">\n          {error}\n        </span>)\n        )\n        || (warning\n        && (\n        <span className=\"form__warning\">\n          {warning}\n        </span>\n        )\n        ))\n      }\n    </div>\n  );\n};\n\nconst renderSelectField = ({ input, label, type, meta: { touched, error }, children }) => (\n  <div>\n    <select {...input} className=\"form__select\">\n      {children}\n    </select>\n    {touched && error && <span className=\"form__error\">{error}</span>}\n  </div>\n);\n\nclass CommentDataForm extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      id,\n      storeid,\n      closeForm,\n      isFormValid,\n      resetFormStatus,\n      handleSubmit,\n      pristine,\n      reset,\n      submitting,\n      handleSubmitFail,\n    } = props;\n  }\n\n  render() {\n    const {\n      id,\n      storeid,\n      closeForm,\n      isFormValid,\n      resetFormStatus,\n      handleSubmit,\n      pristine,\n      reset,\n      submitting,\n      handleSubmitFail,\n    } = this.props;\n\n    const showForm = isFormValid !== 2 ? '' : 'hide';\n    const showErrMsg = !isFormValid ? '' : 'hide';\n    const showSuccessMsg = isFormValid === 2 ? '' : 'hide';\n\n    return (\n      <div className=\"comment-form\">\n        <div className={showForm}>\n          <div className=\"comment-form__main-title\">\n            <h1 className=\"form__main-heading mb-2x\">\n              我要給評價！\n            </h1>\n            <i\n              className=\"comment-form__close\"\n              onClick={closeForm}\n              onKeyDown={closeForm}\n            >\n              X\n            </i>\n          </div>\n          <form\n            className=\"form form-store-info\"\n            onSubmit={handleSubmit}\n            onSubmitFail={handleSubmitFail}\n          >\n            <div className=\"form__block\">\n              <div className=\"form__group\">\n                <label\n                  className=\"form__label\"\n                  htmlFor=\"user\"\n                >\n                  暱稱\n                </label>\n                <div className=\"form__field\">\n                  <Field\n                    type=\"text\"\n                    component={renderTextField}\n                    id=\"user\"\n                    name=\"user\"\n                    placeholder=\"請問您的大名是？\"\n                    className=\"form__input-text\"\n                    validate={[required]}\n                  />\n                </div>\n              </div>\n              <div className=\"form__group\">\n                <label\n                  className=\"form__label\"\n                  htmlFor=\"rating\"\n                >\n                  評等\n                </label>\n                <div className=\"form__field\">\n                  <Field\n                    component={renderSelectField}\n                    id=\"rating\"\n                    name=\"rating\"\n                    validate={[required]}\n                  >\n                    <option value=\"\" disabled>\n                      請選擇評等\n                    </option>\n                    <option value=\"5\">\n                      5 星級！真是太棒了 (撒花)\n                    </option>\n                    <option value=\"4\">\n                      4 顆星！很好的體驗！\n                    </option>\n                    <option value=\"3\">\n                      3 顆星，還可以摟！\n                    </option>\n                    <option value=\"2\">\n                      2 顆星，普普通通 XD\n                    </option>\n                    <option value=\"1\">\n                      1 顆星，有待加強\n                    </option>\n                  </Field>\n                </div>\n              </div>\n              <div className=\"form__group\">\n                <label\n                  className=\"form__label\"\n                  htmlFor=\"meal\"\n                >\n                  餐別\n                </label>\n                <div className=\"form__field\">\n                  <Field\n                    component={renderSelectField}\n                    id=\"meal\"\n                    name=\"meal\"\n                    validate={[required]}\n                  >\n                    <option value=\"\" disabled>\n                      請選擇餐別\n                    </option>\n                    <option value=\"breakfast\">\n                      早餐\n                    </option>\n                    <option value=\"brunch\">\n                      早午餐\n                    </option>\n                    <option value=\"lunch\">\n                      午餐\n                    </option>\n                    <option value=\"afternoontea\">\n                      下午茶\n                    </option>\n                    <option value=\"dinner\">\n                      晚餐\n                    </option>\n                    <option value=\"midnightsnack\">\n                      宵夜\n                    </option>\n                    <option value=\"other\">\n                      其他\n                    </option>\n                  </Field>\n                </div>\n              </div>\n              <div className=\"form__group\">\n                <label\n                  className=\"form__label\"\n                  htmlFor=\"date\"\n                >\n                  用餐日期\n                </label>\n                <div className=\"form__field\">\n                  <Field\n                    type=\"text\"\n                    component=\"input\"\n                    id=\"date\"\n                    name=\"date\"\n                    placeholder=\"yyyy/mm/dd\"\n                    className=\"form__input-text\"\n                    validate={[required]}\n                  />\n                </div>\n              </div>\n              <div className=\"form__group\">\n                <label\n                  htmlFor=\"content\"\n                  className=\"form__label\"\n                >\n                  內容\n                </label>\n                <div className=\"form__field\">\n                  <Field\n                    type=\"text\"\n                    component={renderTextField}\n                    id=\"content\"\n                    name=\"content\"\n                    placeholder=\"想說什麼呢？\"\n                    className=\"form__input-text\"\n                    validate={[required]}\n                  />\n                </div>\n              </div>\n              <Field\n                type=\"text\"\n                component=\"input\"\n                name=\"docid\"\n                value={id}\n                className=\"hide\"\n              />\n              <Field\n                type=\"text\"\n                component=\"input\"\n                name=\"id\"\n                value={storeid}\n                className=\"hide\"\n              />\n            </div>\n            <div className=\"form__button-group\">\n              <button\n                type=\"submit\"\n                disabled={pristine || submitting}\n                className=\"button\"\n              >\n                提交\n              </button>\n            </div>\n          </form>\n        </div>\n        <div className={`${showErrMsg}`}>\n          <div className=\"alert alert--danger\">\n            <div className=\"alert--icon\">\n              &#x02717;\n            </div>\n            <div className=\"alert--content\">\n              嗚嗚出錯了，請重新再試一次\n            </div>\n          </div>\n        </div>\n        <div className={showSuccessMsg}>\n          <div className=\"alert alert--success\">\n            <div className=\"alert--icon\">\n              &#x02713;\n            </div>\n            <div className=\"alert--content\">\n              感謝您的意見！資料審核需約一週，請耐心等候。審核通過就會出現在頁面上！\n            </div>\n          </div>\n          <div className=\"form__button-group\">\n            <button\n              type=\"button\"\n              onClick={() => {\n                reset();\n                resetFormStatus(1);\n                closeForm(1);\n              }}\n              className=\"button--default\"\n            >\n              點我關閉\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nCommentDataForm.propTypes = {\n  id: PropTypes.string.isRequired,\n  storeid: PropTypes.string.isRequired,\n  closeForm: PropTypes.func.isRequired,\n  isFormValid: PropTypes.number.isRequired,\n  resetFormStatus: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  pristine: PropTypes.bool.isRequired,\n  reset: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired,\n  handleSubmitFail: PropTypes.func.isRequired,\n};\n\nCommentDataForm.defaultProps = {};\n\nexport default reduxForm({\n  form: 'commentData',\n})(CommentDataForm);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { change } from 'redux-form';\nimport StoreComments from './store_comments';\nimport CommentDataForm from './comment_form';\nimport '../styles/components/store_review.scss';\nimport {\n  saveCommentData,\n  insertCommentData,\n} from '../actions/index';\n\nclass StoreReview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpenReviewForm: false,\n      isFormValid: 1, // 0: error, 1: initial, 2: success\n    };\n\n    this.renderStoreComments = this.renderStoreComments.bind(this);\n    this.enableCommentForm = this.enableCommentForm.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.handleSubmitFail = this.handleSubmitFail.bind(this);\n    this.resetFormStatus = this.resetFormStatus.bind(this);\n    this.closeStoreCommentForm = this.closeStoreCommentForm.bind(this);\n  }\n\n  componentDidMount() {\n    const { dispatch, comments, storeid } = this.props;\n    dispatch(change('commentData', 'docid', comments.id));\n    dispatch(change('commentData', 'id', storeid));\n  }\n\n  componentDidUpdate(prevProps) {\n    const { dispatch, comments, storeid } = this.props;\n\n    if (comments.id !== prevProps.comments.id) {\n      dispatch(change('commentData', 'docid', comments.id));\n    }\n\n    if (storeid !== prevProps.storeid) {\n      dispatch(change('commentData', 'id', storeid));\n    }\n  }\n\n  enableCommentForm() {\n    this.setState({ isOpenReviewForm: true });\n  }\n\n  handleFormSubmit(values) {\n    const { dispatch, comments } = this.props;\n\n    if (comments.id) {\n      dispatch(saveCommentData(values)).then(() => {\n        this.setState({ isFormValid: 2 });\n      });\n    } else {\n      dispatch(insertCommentData(values)).then(() => {\n        this.setState({ isFormValid: 2 });\n      });\n    }\n  }\n\n  handleSubmitFail() {\n    this.setState({ isFormValid: 0 });\n  }\n\n  resetFormStatus(status) {\n    this.setState({ isFormValid: status });\n  }\n\n  closeStoreCommentForm() {\n    this.setState({\n      isOpenReviewForm: false,\n      isFormValid: 1,\n    });\n  }\n\n  renderStoreComments(commentInfo, storeid) {\n    const { isOpenReviewForm, isFormValid } = this.state;\n    const comments = commentInfo.commentList || [];\n    const commentList = comments.length > 0 ? <StoreComments comments={comments} /> : <div className=\"store-info__no-comments\">暫無評價!</div>;\n    return (\n      <div>\n        { isOpenReviewForm\n          && (\n            <CommentDataForm\n              id={commentInfo.id}\n              storeid={storeid}\n              isFormValid={isFormValid}\n              onSubmit={this.handleFormSubmit}\n              onSubmitFail={this.handleSubmitFail}\n              closeForm={this.closeStoreCommentForm}\n              resetFormStatus={this.resetFormStatus}\n            />\n          )\n        }\n        { commentList }\n      </div>\n    );\n  }\n\n  render() {\n    const { comments, storeid } = this.props;\n\n    return (\n      <div className=\"store-review\">\n        <div className=\"store-review__control\">\n          <div>\n            想說什麼嗎？\n            <span\n              className=\"store-review__feedback\"\n              onClick={this.enableCommentForm}\n              onKeyDown={this.enableCommentForm}\n            >\n              點這裡\n            </span>\n            給評價！\n          </div>\n        </div>\n        { this.renderStoreComments(comments, storeid) }\n      </div>\n    );\n  }\n}\n\n\nStoreReview.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  comments: PropTypes.object,\n  storeid: PropTypes.string.isRequired,\n};\n\nStoreReview.defaultProps = {\n  comments: {},\n};\n\nexport default connect(state => state)(StoreReview);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport LazyLoad from 'react-lazyload';\nimport StoreControlButtons from './store_control_button';\nimport FeatureList from './feature_list';\nimport Tabs from './tabs';\nimport StoreReview from './store_review';\nimport { icon as iconData } from '../data/data';\nimport '../styles/components/store_info.scss';\n\nclass StoreInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { index: 0 };\n    this.onClickHandler = this.onClickHandler.bind(this);\n    this.renderStoreInfo = this.renderStoreInfo.bind(this);\n    this.renderStoreComments = this.renderStoreComments.bind(this);\n  }\n\n  onClickHandler(index) {\n    this.setState({ index });\n  }\n\n  renderStoreInfo(store) {\n    return (\n      <div>\n        <ul className=\"store-info__detail\">\n          <li className=\"store-info__detail__item\">\n            <i\n              className=\"store-info__detail__item__icon icon-pin-map\"\n              title={iconData.address}\n            />\n            <a\n              title={iconData.navigation}\n              href={`https://www.google.com.tw/maps/search/${store.location.address}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {store.location.address}\n            </a>\n          </li>\n          <li className=\"store-info__detail__item\">\n            <i\n              className=\"store-info__detail__item__icon icon-phone\"\n              title={iconData.phone}\n            />\n            <a\n              title={iconData.phone}\n              href={`${store.phone}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {store.phone}\n            </a>\n          </li>\n          <li className=\"store-info__detail__item\">\n            <i\n              className=\"store-info__detail__item__icon icon-clock-circular-outline\"\n              title={iconData.openingHour}\n            />\n            {store.openingHour.start}\n            ~\n            {store.openingHour.end}\n          </li>\n          <li className=\"store-info__detail__item\">\n            <i\n              className=\"store-info__detail__item__icon icon-dollar\"\n              title={iconData.price}\n            />\n            {store.price.lowest}\n            ~\n            {store.price.highest}\n          </li>\n          <li className=\"store-info__detail__item\">\n            <i\n              className=\"store-info__detail__item__icon icon-global\"\n              title={iconData.website}\n            />\n            <a\n              title={store.name}\n              href={`${store.sns.website}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {store.name}\n            </a>\n          </li>\n        </ul>\n        { store.features && <FeatureList features={store.features} /> }\n        <div className=\"store-info__tag-list\">\n          {\n            store.tags.map((item) => {\n              return (\n                <div key={item} className=\"store-info__tag-item\">\n                  <Link href={`/tag?keyword=${item}`}>\n                    <a\n                      className=\"store-info__tag-link\"\n                      title={item}\n                    >\n                      {item}\n                    </a>\n                  </Link>\n                </div>\n              );\n            })\n          }\n        </div>\n      </div>\n    )\n  }\n\n  renderStoreComments(comments, storeid) {\n    return <StoreReview comments={comments} storeid={storeid} />;\n  }\n\n  render() {\n    const { store, comments } = this.props;\n    const { index } = this.state;\n    const tabs = [\n      {\n        id: 0,\n        title: '資訊',\n        hash: 'info',\n        content: this.renderStoreInfo(store),\n      },\n      {\n        id: 1,\n        title: '評價',\n        hash: 'comment',\n        content: this.renderStoreComments(comments, store.id),\n      },\n    ];\n    const boxStyle = {\n      background: '#e8e8e8',\n      width: '175px',\n      height: '175px',\n    };\n\n    return (\n      <div>\n        <div\n          key={store.id}\n          className=\"store-info\"\n        >\n          <div className=\"store-info__image\" style={boxStyle}>\n            <LazyLoad offsetVertical={100} height={175}>\n              <figure>\n                <picture>\n                  <source\n                    media=\"all\"\n                    srcSet={`${store.image[5].url} 1x, ${store.image[6].url} 2x`}\n                    type=\"image/webp\"\n                  />\n                  <source\n                    media=\"all\"\n                    srcSet={`${store.image[1].url} 1x, ${store.image[2].url} 2x`}\n                    type=\"image/jpeg\"\n                  />\n                  <img src={store.image[1].url} alt={store.name} />\n                </picture>\n                <figcaption className=\"hide\">\n                  {store.name}\n                </figcaption>\n              </figure>\n            </LazyLoad>\n            {/* <div className=\"store-info__image-list\">\n              <img alt=\"OOO\" src=\"https://dummyimage.com/50x50/666/fff\" className=\"store-info__image-list__item\" />\n              <img alt=\"OOO\" src=\"https://dummyimage.com/50x50/000/fff\" className=\"store-info__image-list__item\" />\n              <img alt=\"OOO\" src=\"https://dummyimage.com/50x50/666/fff\" className=\"store-info__image-list__item\" />\n              <img alt=\"OOO\" src=\"https://dummyimage.com/50x50/000/fff\" className=\"store-info__image-list__item\" />\n              <img alt=\"OOO\" src=\"https://dummyimage.com/50x50/666/fff\" className=\"store-info__image-list__item\" />\n              <img alt=\"OOO\" src=\"https://dummyimage.com/50x50/000/fff\" className=\"store-info__image-list__item\" />\n            </div> */}\n          </div>\n          <div className=\"store-info__container\">\n            <div className=\"store-info__content\">\n              {store.description}\n              <StoreControlButtons store={store} />\n            </div>\n            <Tabs tabs={tabs} activeIndex={index} onClickTabNavHandler={this.onClickHandler} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nStoreInfo.propTypes = {\n  store: PropTypes.object.isRequired,\n  comments: PropTypes.object,\n};\n\nStoreInfo.defaultProps = {\n  comments: {},\n};\n\nexport default StoreInfo;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport Card from './card';\nimport { fetchRecommendStoreList } from '../actions';\n\nconst renderCards = (recommendStoresData) => {\n  return _.map(recommendStoresData, (store) => {\n    return (\n      <Card key={store.id} store={store} ref={this.card} />\n    );\n  });\n};\n\nclass Notfound extends Component {\n  componentDidMount() {\n    const { dispatch } = this.props;\n    dispatch(fetchRecommendStoreList());\n  }\n\n  render() {\n    const { tags } = this.props;\n    const { filteredStores: { recommendStoresData } } = this.props;\n\n    return (\n      <div>\n        <h1 className=\"panel__main-heading\">\n          找不到！\n        </h1>\n        <Link href=\"/\">\n          <a title=\"回「吃什麼」首頁\">\n            回首頁\n          </a>\n        </Link>\n        或看熱門關鍵字\n        <Link href={`/tag?keyword=${tags[0]}`}>\n          <a title={tags[0]}>\n            {tags[0]}\n          </a>\n        </Link>\n        、\n        <Link href={`/tag?keyword=${tags[1]}`}>\n          <a title={tags[1]}>\n            {tags[1]}\n          </a>\n        </Link>\n        、\n        <Link href={`/tag?keyword=${tags[2]}`}>\n          <a title={tags[2]}>\n            { tags[2] }\n          </a>\n        </Link>\n        <hr />\n        <div className=\"mt-2x\">\n          <h1 className=\"panel__main-heading\">\n          猜你想吃\n          </h1>\n          <div className=\"card-list\">\n            { renderCards(recommendStoresData) }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nNotfound.propTypes = {\n  tags: PropTypes.array.isRequired,\n  filteredStores: PropTypes.object,\n};\n\nNotfound.defaultProps = {\n  filteredStores: null,\n};\n\nexport default connect(state => state)(Notfound);\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Page from '../components/page';\nimport StoreInfo from '../components/store_info';\nimport Notfound from '../components/not_found';\nimport { hotTags } from '../data/data';\nimport {\n  fetchStoreInfo,\n  fetchStoreComments,\n} from '../actions/index';\n\nconst renderNotFound = () => {\n  return (<Notfound tags={hotTags.slice(0, 3)} />);\n};\n\nconst renderLoading = () => {\n  return (\n    <div className=\"icon-loading store-item__loading\" />\n  );\n};\n\nclass Store extends Component {\n  componentDidMount() {\n    const { dispatch, router } = this.props;\n    const { id } = router.query;\n    dispatch(fetchStoreInfo(id));\n    dispatch(fetchStoreComments(id));\n  }\n\n  componentDidUpdate(prevProps) {\n    const { dispatch, router: { query: { id } } } = this.props;\n\n    if (id !== prevProps.router.query.id) {\n      dispatch(fetchStoreInfo(id));\n      dispatch(fetchStoreComments(id));\n    }\n  }\n\n  render() {\n    const { store, storeComments } = this.props;\n    const isNotFound = _.isEmpty(store);\n    const isLoading = _.isObject(store) && _.isEmpty(store);\n\n    return (\n      <Page title=\"商店單頁\" id=\"store\">\n        <div className=\"panel\">\n          { !isNotFound\n          && (\n            <div>\n              <h1 className=\"panel__main-heading mb-2x\">\n                <Link href={`/store/?id=${store.id}`}>\n                  <a title={store.name}>\n                    {store.name}\n                  </a>\n                </Link>\n              </h1>\n              <StoreInfo store={store} comments={storeComments} />\n            </div>\n          )\n          }\n          { isNotFound && renderNotFound() }\n          { isLoading && renderLoading() }\n        </div>\n      </Page>\n    );\n  }\n}\n\nStore.propTypes = {\n  store: PropTypes.object.isRequired,\n  storeComments: PropTypes.object,\n};\n\nStore.defaultProps = {\n  storeComments: {},\n};\n\nexport default withRouter(connect(state => state)(Store));\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Link from 'react-router-dom';\nimport { withCookies } from 'react-cookie';\nimport {\n  addFavList,\n  fetchFavList,\n  restoreUserInfo,\n} from '../actions/index';\nimport Card from './card';\nimport { DOTCH_FOOD_COOKIE_KEY } from '../constants';\n\nclass FavList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderCardList = this.renderCardList.bind(this);\n    this.renderCards = this.renderCards.bind(this);\n    this.renderNoDataHint = this.renderNoDataHint.bind(this);\n  }\n\n  componentDidMount() {\n    const { dispatch, cookies: { cookies } } = this.props;\n\n    // restore user info from cookie when reload page\n    if (cookies && cookies[DOTCH_FOOD_COOKIE_KEY]) {\n      const userInfo = JSON.parse(cookies[DOTCH_FOOD_COOKIE_KEY]);\n      userInfo && userInfo.id && dispatch(fetchFavList(userInfo.id));\n      dispatch(restoreUserInfo(userInfo));\n    }\n  }\n\n  renderCards(stores) {\n    const { dispatch, user: { userInfo }} = this.props;\n\n    return _.map(stores, (store) => (\n      <Card\n        addFavList={(args) => {dispatch(addFavList(args))}}\n        key={store.id}\n        store={store}\n        userID={userInfo.id}\n      />\n    ));\n  };\n\n  renderCardList() {\n    const { favList } = this.props;\n\n\n    return (\n      <div className=\"card-list\">\n        {this.renderCards(favList)}\n      </div>\n    );\n  }\n\n  renderNoDataHint() {\n    return (<div>這裡是空的 XDDD</div>);\n  }\n\n  render() {\n    const { favList, user: { isLogin } } = this.props;\n    const isEmptyFavList = !_.size(favList);\n\n    return (\n      <div>\n          {isEmptyFavList && this.renderNoDataHint()}\n          {!isEmptyFavList && isLogin && this.renderCardList(favList)}\n      </div>\n    )\n  }\n}\n\nFavList.propTypes = {\n  favList: PropTypes.object,\n};\n\nFavList.defaultProps = {\n  favList: null,\n};\n\nexport default withCookies(connect(state => state)(FavList));\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Page from '../components/page';\nimport Card from '../components/card';\nimport FavList from '../components/favlist';\nimport { fetchHotStoreList, addFavList } from '../actions/index';\n\nclass Fav extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderCards = this.renderCards.bind(this);\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props;\n\n    dispatch(fetchHotStoreList());\n  }\n\n  renderCards(stores) {\n    const { dispatch, user: { userInfo }} = this.props;\n\n    return _.map(stores, (store) => (\n      <Card\n        addFavList={(args) => {dispatch(addFavList(args))}}\n        key={store.id}\n        store={store}\n        userID={userInfo.id}\n      />\n    ));\n  };\n\n  render() {\n    const { filteredStores } = this.props;\n    const { hotStoresData } = filteredStores;\n\n    return (\n      <Page title=\"首頁\" id=\"index\">\n        <div className=\"panel\">\n          <h1 className=\"panel__main-heading\">我的最愛</h1>\n            <FavList />\n        </div>\n        <div className=\"panel\">\n          <h1 className=\"panel__main-heading\">\n            熱門推薦\n            <span className=\"panel__heading-deco icon-star\" />\n          </h1>\n          <Link href=\"/nearby\">\n            <a\n              className=\"panel__view-more\"\n              title=\"看更多-熱門推薦\"\n            >\n              看更多\n            </a>\n          </Link>\n          <div className=\"card-list\">\n            {this.renderCards(hotStoresData)}\n          </div>\n        </div>\n      </Page>\n    )\n  }\n}\n\nFav.propTypes = {\n  favList: PropTypes.object,\n  hotStoresData: PropTypes.array,\n};\n\nFav.defaultProps = {\n  favList: null,\n  hotStoresData: [],\n};\n\nexport default connect(state => state)(Fav);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport LazyLoad from 'react-lazyload';\nimport StoreControlButtons from './store_control_button';\nimport { icon as iconData } from '../data/data';\nimport '../styles/components/store_item.scss';\n\nconst StoreItem = ({ store }) => {\n  const boxStyle = {\n    background: '#e8e8e8',\n    width: '175px',\n    height: '175px',\n  };\n\n  return (\n    <div>\n      <div\n        key={store.id}\n        className=\"store-item\"\n      >\n        <div className=\"store-item__image\" style={boxStyle}>\n          <LazyLoad offsetVertical={100} height={175}>\n            <figure>\n              <picture>\n                <source\n                  media=\"all\"\n                  srcSet={`${store.image[5].url} 1x, ${store.image[6].url} 2x`}\n                  type=\"image/webp\"\n                />\n                <source\n                  media=\"all\"\n                  srcSet={`${store.image[1].url} 1x, ${store.image[2].url} 2x`}\n                  type=\"image/jpeg\"\n                />\n                <img src={store.image[1].url} alt={store.name} />\n              </picture>\n              <figcaption className=\"hide\">\n                {store.name}\n              </figcaption>\n            </figure>\n          </LazyLoad>\n        </div>\n        <div className=\"store-item__container\">\n          <h2 className=\"store-item__title\">\n            <Link href={`/store?id=${store.id}`}>\n              <a title={store.name}>\n                {store.name}\n              </a>\n            </Link>\n          </h2>\n          <div className=\"store-item__description \">\n            {store.description}\n          </div>\n          <ul className=\"store-item__detail\">\n            <li className=\"store-item__detail__item\">\n              <i\n                className=\"store-item__detail__item__icon icon-pin-map\"\n                title={iconData.address}\n              />\n              <a\n                title={iconData.navigation}\n                href={`https://www.google.com.tw/maps/search/${store.location.address}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {store.location.address}\n              </a>\n            </li>\n            <li className=\"store-item__detail__item\">\n              <i\n                className=\"store-item__detail__item__icon icon-phone\"\n                title={iconData.phone}\n              />\n              <a\n                title={iconData.phone}\n                href={`${store.phone}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {store.phone}\n              </a>\n            </li>\n            <li className=\"store-item__detail__item\">\n              <i\n                className=\"store-item__detail__item__icon icon-clock-circular-outline\"\n                title={iconData.openingHour}\n              />\n              {store.openingHour.start}\n              ~\n              {store.openingHour.end}\n            </li>\n            <li className=\"store-item__detail__item\">\n              <i\n                className=\"store-item__detail__item__icon icon-dollar\"\n                title={iconData.price}\n              />\n              {store.price.lowest}\n              ~\n              {store.price.highest}\n            </li>\n            <li className=\"store-item__detail__item\">\n              <i\n                className=\"store-item__detail__item__icon icon-global\"\n                title={iconData.website}\n              />\n              <a\n                title={store.name}\n                href={`${store.sns.website}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {store.name}\n              </a>\n            </li>\n          </ul>\n          <div className=\"store-item__tag-list\">\n            {\n              store.tags.map((item) => {\n                return (\n                  <div key={item} className=\"store-item__tag-item\">\n                    <Link href={`/tag?keyword=${item}`}>\n                      <a\n                        className=\"store-item__tag-link\"\n                        title={item}\n                      >\n                        {item}\n                      </a>\n                    </Link>\n                  </div>\n                );\n              })\n            }\n          </div>\n          <StoreControlButtons store={store} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nStoreItem.propTypes = {\n  store: PropTypes.object.isRequired,\n};\n\nexport default StoreItem;\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport Page from '../components/page';\nimport StoreItem from '../components/store_item';\nimport Notfound from '../components/not_found';\n\nimport {\n  fetchStoreList,\n  fetchStoreListByTag,\n} from '../actions/index';\nimport { hotTags } from '../data/data';\n\nconst renderStores = (stores) => {\n  return _.map(stores, (store) => {\n    return (\n      <StoreItem key={store.id} store={store} />\n    );\n  });\n};\n\nconst renderNotFound = () => {\n  return (<Notfound tags={hotTags.slice(0, 3)} />);\n};\n\nconst renderLoading = () => {\n  return (\n    <div className=\"icon-loading store-item__loading\" />\n  );\n};\n\nclass Tag extends Component {\n  componentDidMount() {\n    const { dispatch, router } = this.props;\n    const { keyword } = router.query;\n    keyword ? dispatch(fetchStoreListByTag(keyword)) : dispatch(fetchStoreList());\n  }\n\n  componentDidUpdate(prevProps) {\n    const { dispatch } = this.props;\n    const keyword = this.props.router.query.keyword;\n\n    if (keyword !== prevProps.router.query.keyword) {\n      dispatch(fetchStoreListByTag(keyword));\n    }\n  }\n\n  render() {\n    const { stores } = this.props;\n    const keyword = this.props.router.query.keyword;\n    const isNotFound = _.isArray(stores) && _.isEmpty(stores);\n    const isLoading = _.isObject(stores) && !_.isArray(stores) && _.isEmpty(stores);\n\n    return (\n      <Page title=\"標籤頁\" id=\"tag\">\n        <div className=\"panel\">\n          { !isNotFound\n            && (\n              <h1 className=\"panel__main-heading mb-2x\">\n                {\n                  keyword\n                }\n              </h1>\n            )\n          }\n          { renderStores(stores) }\n          { isNotFound && renderNotFound() }\n          { isLoading && renderLoading() }\n        </div>\n      </Page>\n    );\n  }\n}\n\n// Tag.propTypes = {\n//   nearbyStoresData: PropTypes.array.isRequired,\n//   recommendStoresData: PropTypes.array.isRequired,\n//   hotStoresData: PropTypes.array.isRequired,\n// };\n\nexport default withRouter(connect(state => state)(Tag));\n","import { combineReducers } from 'redux';\nimport { reducer as FormReducer } from 'redux-form';\nimport StoresReducer from './reducer_stores';\nimport FilteredStoresReducer from './reducer_filtered_stores';\nimport SlidesReducer from './reducer_slideshows';\nimport StoreReducer from './reducer_store';\nimport StoreComments from './reducer_store_comments';\nimport FavList from './favlist';\nimport User from './user';\n\nconst rootReducer = combineReducers({\n  stores: StoresReducer,\n  filteredStores: FilteredStoresReducer,\n  slideshows: SlidesReducer,\n  form: FormReducer,\n  store: StoreReducer,\n  storeComments: StoreComments,\n  favList: FavList,\n  user: User,\n});\n\nexport default rootReducer;\n","import _ from 'lodash';\nimport { FETCH_STORE_LIST, FETCH_STORE_LIST_BY_TAG } from '../constants';\n\nexport default function (state = {}, action) {\n  let storesData = [];\n\n  switch (action.type) {\n    case FETCH_STORE_LIST:\n    case FETCH_STORE_LIST_BY_TAG:\n      action.payload.forEach((doc) => {\n        storesData = [...storesData, doc.data()];\n      });\n\n      storesData.forEach((item) => {\n        if (typeof item.tags === 'object') {\n          item.tags = _.keys(item.tags);\n        }\n      });\n\n      return storesData;\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport {\n  FETCH_NEARBY_STORE_LIST,\n  FETCH_RECOMMEND_STORE_LIST,\n  FETCH_HOT_STORE_LIST,\n} from '../constants';\n\nexport default function (state = {}, action) {\n  let hotStoresData = [];\n  let recommendStoresData = [];\n  let nearbyStoresData = [];\n\n  switch (action.type) {\n    case FETCH_NEARBY_STORE_LIST:\n      _.forEach(action.payload.docs, (doc) => {\n        nearbyStoresData.push(doc.data());\n      });\n\n      _.forEach(nearbyStoresData, (item) => {\n        if (typeof item.tags === 'object') {\n          item.tags = _.keys(item.tags);\n        }\n      });\n\n      return { ...state, nearbyStoresData };\n    case FETCH_RECOMMEND_STORE_LIST:\n      _.forEach(action.payload.docs, (doc) => {\n        recommendStoresData.push(doc.data());\n      });\n\n      _.forEach(recommendStoresData, (item) => {\n        if (typeof item.tags === 'object') {\n          item.tags = _.keys(item.tags);\n        }\n      });\n\n      return { ...state, recommendStoresData };\n    case FETCH_HOT_STORE_LIST:\n      _.forEach(action.payload.docs, (doc) => {\n        hotStoresData.push(doc.data());\n      });\n\n      _.forEach(hotStoresData, (item) => {\n        if (typeof item.tags === 'object') {\n          item.tags = _.keys(item.tags);\n        }\n      });\n\n      return { ...state, hotStoresData };\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport { FETCH_SLIDES_DATA } from '../constants';\n\nexport default function (state = {}, action) {\n  let slidesData = [];\n\n  switch (action.type) {\n    case FETCH_SLIDES_DATA:\n      _.forEach(action.payload.docs, (doc) => {\n        slidesData.push(doc.data());\n      });\n\n      return { ...state, slidesData };\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport { FETCH_STORE_INFO } from '../constants';\n\nexport default function (state = {}, action) {\n  let storeInfo = [];\n\n  switch (action.type) {\n    case FETCH_STORE_INFO:\n      action.payload.forEach((doc) => {\n        storeInfo = [...storeInfo, doc.data()];\n      });\n\n      storeInfo.forEach((item) => {\n        if (typeof item.tags === 'object') {\n          item.tags = _.keys(item.tags);\n        }\n      });\n\n      return storeInfo[0];\n    default:\n      return state;\n  }\n}\n","import { FETCH_STORE_COMMENTS } from '../constants';\n\nexport default function (state = {}, action) {\n  let commentList = [];\n  let id = '';\n\n  switch (action.type) {\n    case FETCH_STORE_COMMENTS:\n      action.payload.forEach((doc) => {\n        id = doc.id;\n        commentList = [...commentList, doc.data()];\n      });\n\n      return {\n        id,\n        commentList,\n      };\n    default:\n      return state;\n  }\n}\n","import _ from 'lodash';\nimport { FETCH_FAV_LIST } from '../constants';\n\nexport default function (state = {}, action) {\n  let favData = [];\n\n  switch (action.type) {\n    case FETCH_FAV_LIST:\n      _.forEach(action.payload.docs, (doc) => {\n        favData.push(doc.data());\n      });\n\n      return { ...favData[0].list };\n    default:\n      return state;\n  }\n}\n","import {\n    DOTCH_FOOD_COOKIE_KEY,\n    LOGIN,\n    LOGOUT,\n    RESTORE_USER_INFO,\n} from '../constants';\n\nconst intialState = {\n  isLogin: false,\n  userInfo: null,\n}\n\nexport default function (state = {}, action) {\n  switch (action.type) {\n    case LOGIN:\n      const userInfoString = JSON.stringify(action.payload.userInfo);\n      document.cookie = `${DOTCH_FOOD_COOKIE_KEY}=${userInfoString}; path=/`;\n      return { ...state, isLogin: action.payload.isLogin, userInfo: action.payload.userInfo };\n    case LOGOUT:\n      document.cookie = `${DOTCH_FOOD_COOKIE_KEY}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\n      return { ...state, isLogin: false, userInfo: null };\n    case RESTORE_USER_INFO: // restore user info from cookie\n      return { ...state, isLogin: true, userInfo: action.payload };\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport promise from 'redux-promise';\nimport { ThemeProvider, CSSReset } from '@chakra-ui/core';\nimport { CookiesProvider } from 'react-cookie';\nimport './styles/index.scss';\nimport Index from './containers/index';\nimport Store from './containers/store';\nimport Fav from './containers/fav';\nimport Tag from './containers/tag';\nimport reducers from './reducers';\n\nconst createStoreWithMiddleware = applyMiddleware(promise)(createStore);\n\nReactDOM.render(\n  <ThemeProvider>\n    <CSSReset />\n      <CookiesProvider>\n        <Provider store={createStoreWithMiddleware(reducers)}>\n          <BrowserRouter>\n            <div>\n              <Switch>\n                <Route path=\"/tag/:keyword\" component={Tag} />\n                <Route path=\"/store/:id\" component={Store} />\n                <Route path=\"/fav/\" component={Fav} />\n                <Route path=\"/\" component={Index} />\n              </Switch>\n            </div>\n          </BrowserRouter>\n        </Provider>\n      </CookiesProvider>\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}